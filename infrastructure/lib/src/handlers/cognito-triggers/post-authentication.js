"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.handler = void 0;
const client_dynamodb_1 = require("@aws-sdk/client-dynamodb");
const lib_dynamodb_1 = require("@aws-sdk/lib-dynamodb");
const client = new client_dynamodb_1.DynamoDBClient({});
const docClient = lib_dynamodb_1.DynamoDBDocumentClient.from(client);
const USERNAMES_TABLE = process.env.USERNAMES_TABLE || 'trinity-usernames';
const ROOMS_TABLE = process.env.ROOMS_TABLE || 'trinity-rooms';
const VOTES_TABLE = process.env.VOTES_TABLE || 'trinity-votes';
const MATCHES_TABLE = process.env.MATCHES_TABLE || 'trinity-matches';
/**
 * Cognito Post Authentication Trigger
 * Handles user deletion cleanup
 */
const handler = async (event) => {
    console.log('Post Authentication Trigger invoked', {
        userPoolId: event.userPoolId,
        userName: event.userName,
        triggerSource: event.triggerSource,
    });
    // This trigger runs after successful authentication
    // We'll use a separate trigger for user deletion
    return event;
};
exports.handler = handler;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG9zdC1hdXRoZW50aWNhdGlvbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9oYW5kbGVycy9jb2duaXRvLXRyaWdnZXJzL3Bvc3QtYXV0aGVudGljYXRpb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQ0EsOERBQTBEO0FBQzFELHdEQUE4RTtBQUU5RSxNQUFNLE1BQU0sR0FBRyxJQUFJLGdDQUFjLENBQUMsRUFBRSxDQUFDLENBQUM7QUFDdEMsTUFBTSxTQUFTLEdBQUcscUNBQXNCLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBRXRELE1BQU0sZUFBZSxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsZUFBZSxJQUFJLG1CQUFtQixDQUFDO0FBQzNFLE1BQU0sV0FBVyxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsV0FBVyxJQUFJLGVBQWUsQ0FBQztBQUMvRCxNQUFNLFdBQVcsR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDLFdBQVcsSUFBSSxlQUFlLENBQUM7QUFDL0QsTUFBTSxhQUFhLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxhQUFhLElBQUksaUJBQWlCLENBQUM7QUFFckU7OztHQUdHO0FBQ0ksTUFBTSxPQUFPLEdBQXFDLEtBQUssRUFDNUQsS0FBcUMsRUFDSSxFQUFFO0lBQzNDLE9BQU8sQ0FBQyxHQUFHLENBQUMscUNBQXFDLEVBQUU7UUFDakQsVUFBVSxFQUFFLEtBQUssQ0FBQyxVQUFVO1FBQzVCLFFBQVEsRUFBRSxLQUFLLENBQUMsUUFBUTtRQUN4QixhQUFhLEVBQUUsS0FBSyxDQUFDLGFBQWE7S0FDbkMsQ0FBQyxDQUFDO0lBRUgsb0RBQW9EO0lBQ3BELGlEQUFpRDtJQUVqRCxPQUFPLEtBQUssQ0FBQztBQUNmLENBQUMsQ0FBQztBQWJXLFFBQUEsT0FBTyxXQWFsQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBvc3RBdXRoZW50aWNhdGlvblRyaWdnZXJFdmVudCwgUG9zdEF1dGhlbnRpY2F0aW9uVHJpZ2dlckhhbmRsZXIgfSBmcm9tICdhd3MtbGFtYmRhJztcclxuaW1wb3J0IHsgRHluYW1vREJDbGllbnQgfSBmcm9tICdAYXdzLXNkay9jbGllbnQtZHluYW1vZGInO1xyXG5pbXBvcnQgeyBEeW5hbW9EQkRvY3VtZW50Q2xpZW50LCBEZWxldGVDb21tYW5kIH0gZnJvbSAnQGF3cy1zZGsvbGliLWR5bmFtb2RiJztcclxuXHJcbmNvbnN0IGNsaWVudCA9IG5ldyBEeW5hbW9EQkNsaWVudCh7fSk7XHJcbmNvbnN0IGRvY0NsaWVudCA9IER5bmFtb0RCRG9jdW1lbnRDbGllbnQuZnJvbShjbGllbnQpO1xyXG5cclxuY29uc3QgVVNFUk5BTUVTX1RBQkxFID0gcHJvY2Vzcy5lbnYuVVNFUk5BTUVTX1RBQkxFIHx8ICd0cmluaXR5LXVzZXJuYW1lcyc7XHJcbmNvbnN0IFJPT01TX1RBQkxFID0gcHJvY2Vzcy5lbnYuUk9PTVNfVEFCTEUgfHwgJ3RyaW5pdHktcm9vbXMnO1xyXG5jb25zdCBWT1RFU19UQUJMRSA9IHByb2Nlc3MuZW52LlZPVEVTX1RBQkxFIHx8ICd0cmluaXR5LXZvdGVzJztcclxuY29uc3QgTUFUQ0hFU19UQUJMRSA9IHByb2Nlc3MuZW52Lk1BVENIRVNfVEFCTEUgfHwgJ3RyaW5pdHktbWF0Y2hlcyc7XHJcblxyXG4vKipcclxuICogQ29nbml0byBQb3N0IEF1dGhlbnRpY2F0aW9uIFRyaWdnZXJcclxuICogSGFuZGxlcyB1c2VyIGRlbGV0aW9uIGNsZWFudXBcclxuICovXHJcbmV4cG9ydCBjb25zdCBoYW5kbGVyOiBQb3N0QXV0aGVudGljYXRpb25UcmlnZ2VySGFuZGxlciA9IGFzeW5jIChcclxuICBldmVudDogUG9zdEF1dGhlbnRpY2F0aW9uVHJpZ2dlckV2ZW50XHJcbik6IFByb21pc2U8UG9zdEF1dGhlbnRpY2F0aW9uVHJpZ2dlckV2ZW50PiA9PiB7XHJcbiAgY29uc29sZS5sb2coJ1Bvc3QgQXV0aGVudGljYXRpb24gVHJpZ2dlciBpbnZva2VkJywge1xyXG4gICAgdXNlclBvb2xJZDogZXZlbnQudXNlclBvb2xJZCxcclxuICAgIHVzZXJOYW1lOiBldmVudC51c2VyTmFtZSxcclxuICAgIHRyaWdnZXJTb3VyY2U6IGV2ZW50LnRyaWdnZXJTb3VyY2UsXHJcbiAgfSk7XHJcblxyXG4gIC8vIFRoaXMgdHJpZ2dlciBydW5zIGFmdGVyIHN1Y2Nlc3NmdWwgYXV0aGVudGljYXRpb25cclxuICAvLyBXZSdsbCB1c2UgYSBzZXBhcmF0ZSB0cmlnZ2VyIGZvciB1c2VyIGRlbGV0aW9uXHJcblxyXG4gIHJldHVybiBldmVudDtcclxufTtcclxuIl19